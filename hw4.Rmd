---
title: "Homework 4"
author: '[Group names]'
date: "9/26/2019"
output: 
  html_document:
    keep_md: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, comment = NA, message = FALSE)
```

## Packages

```{r packages}
require(tidyverse)
```

## Data

```{r read-data}
nasa <- readRDS(file = "nasa.rds")
```



## Task1
```{r task-1}
nasa_df <- nasa %>%
  lapply(unlist) %>%
  lapply(data.frame, stringsAsFactors = FALSE) %>%
  lapply(t) %>%
  lapply(data.frame, stringsAsFactors = FALSE) %>%
  bind_rows()
```
<!--
```{r task-1}
#easy_df <- data.frame(lapply(easy_df, unlist), stringsAsFactoers=FALSE)
var_names <- names(nasa[[1]])
easy_part <- map(nasa, `[`, var_names[1:9])
easy_df <- do.call(rbind, easy_part) %>%
  data.frame(stringsAsFactors = FALSE) %>%
  lapply(as.character) %>%
  data.frame(stringsAsFactors = FALSE)

geo_coord <- map(nasa, list("geolocation", "coordinates"))
features <- map(nasa, `[[`, "features") %>%
  map(unlist)
nasa_df <- easy_df %>%
  mutate("features" = features,
         "geo_coord" = geo_coord)
nasa_df[nasa_df=='NULL'] <- NA
```
-->

## Task2

### remove duplicates
```{r remove-dup}
nasa_df <- nasa_df %>%
  filter(!duplicated(nasa_df))
```


### clean id
```{r id}
nasa_df$id <- as.integer(nasa_df$id)
```

### clean data time
```{r}
nasa_df$year <- str_replace(nasa_df$year, "T+", " ")
nasa_df$year <- str_replace(nasa_df$year, "\\..*", "")
nasa_df$seconds <- nasa_df$year %>%
  str_extract(":\\d{2}$") %>%
  str_replace(":",)
```

```{r}
nasa_df
```
